import{_ as e,c as t,o as a,a4 as s}from"./chunks/framework.Bl20_RFa.js";const u=JSON.parse('{"title":"terramate experimental trigger - Command","description":"Mark a stacks as changed so they will be triggered in Change Detection by using the `terramate experimental trigger` command.","frontmatter":{"title":"terramate experimental trigger - Command","description":"Mark a stacks as changed so they will be triggered in Change Detection by using the `terramate experimental trigger` command."},"headers":[],"relativePath":"cli/cmdline/experimental/experimental-trigger.md","filePath":"cli/cmdline/experimental/experimental-trigger.md"}'),i={name:"cli/cmdline/experimental/experimental-trigger.md"},r=s('<h1 id="trigger" tabindex="-1">Trigger <a class="header-anchor" href="#trigger" aria-label="Permalink to &quot;Trigger&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This is an experimental command and is likely subject to change in the future.</p></div><p>The <code>terramate experimental trigger</code> command forcibly marks a stack as &quot;changed&quot; even if it doesn&#39;t contain any code changes according to the <a href="./../../change-detection/">change detection</a>. It does this by creating a file (by default in <code>/.tmtriggers</code>) which should then be committed. <code>terramate run</code> will then execute commands against any stacks that have been triggered in the last commit (as well as any other changed stacks).</p><p>The trigger mechanism has various use cases. It may be that a previous CI/CD run failed or that you have detected a drift between the code and the actual state. For those using Terramate Cloud, the additional <code>--cloud-status=&lt;status&gt;</code> argument can be used to trigger stacks that are in one of the following states:</p><table><thead><tr><th>Status</th><th>Meaning</th></tr></thead><tbody><tr><td><code>ok</code></td><td>The stack is not drifted and the last deployment succeeded</td></tr><tr><td><code>failed</code></td><td>The last deployment of the stack failed so the status is unknown</td></tr><tr><td><code>drifted</code></td><td>The actual state is different from that defined in the code of the stack</td></tr><tr><td><code>unhealthy</code></td><td>This meta state matches any undesirable state (failed, drifted etc)</td></tr><tr><td><code>healthy</code></td><td>This meta state matches stacks that have no undesireable state</td></tr></tbody></table><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p><code>terramate experimental trigger PATH</code></p><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><p>Create a change trigger for a stack:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> experimental</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trigger</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/stack</span></span></code></pre></div><p>Create triggers for all stacks that have drifted</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> experimental</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trigger</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cloud-status=drifted</span></span></code></pre></div>',12),d=[r];function n(o,c,h,l,g,p){return a(),t("div",null,d)}const k=e(i,[["render",n]]);export{u as __pageData,k as default};
