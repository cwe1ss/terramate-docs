import{_ as a,c as e,o as t,a4 as i}from"./chunks/framework.Bl20_RFa.js";const k=JSON.parse('{"title":"On-boarding: Terragrunt On-boarding","description":"Import your existing Terragrunt Setup to Terramate","frontmatter":{"title":"On-boarding: Terragrunt On-boarding","description":"Import your existing Terragrunt Setup to Terramate","outline":[2,3]},"headers":[],"relativePath":"cli/on-boarding/terragrunt.md","filePath":"cli/on-boarding/terragrunt.md"}'),r={name:"cli/on-boarding/terragrunt.md"},s=i(`<h1 id="start-with-existing-terragrunt-projects" tabindex="-1">Start with existing Terragrunt Projects <a class="header-anchor" href="#start-with-existing-terragrunt-projects" aria-label="Permalink to &quot;Start with existing Terragrunt Projects&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This is an experimental command and is likely subject to change in the future. It needs to be enabled in the experiments config by adding <code>terragrunt</code> to <code>terramate.config.experiments</code> list (see below) to make use of advanced features like Change Detection for Terragrunt.</p></div><h2 id="import-existing-terragrunt-stacks" tabindex="-1">Import Existing Terragrunt Stacks <a class="header-anchor" href="#import-existing-terragrunt-stacks" aria-label="Permalink to &quot;Import Existing Terragrunt Stacks&quot;">​</a></h2><p>To create Terramate Stacks from existing Terragrunt Modules run the following command.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all-terragrunt</span></span></code></pre></div><p>This command will detect existing Terragrunt Modules, create a stack configuration in them and will set up the order of execution in <code>before</code> and <code>after</code> attributes for detected Terragrunt dependencies.</p><h2 id="terramate-features-for-terrgrunt-repositories" tabindex="-1">Terramate Features for Terrgrunt Repositories <a class="header-anchor" href="#terramate-features-for-terrgrunt-repositories" aria-label="Permalink to &quot;Terramate Features for Terrgrunt Repositories&quot;">​</a></h2><p>All Terramate features are now available to your team, so you get the best of both worlds.</p><p>The following set of features highlights some special benefits:</p><ul><li>Use Terramate Change Detection to reduce run times of terragrunt commands</li><li>Execute <strong>any</strong> command within stacks imported from terragrunt config.</li><li>Run Terragrunt in any CI/CD following the Terramate Automation Blueprints and examples.</li><li>Make use of Terramates advanced Code Generation and Globals to share data more easily.</li><li>Use Terragrunt and plain Terraform side-by-side.</li><li>Synchronize deployments, drift runs, and previews to <strong>Terramate Cloud</strong> and get <ul><li>Visibility of the Health of all Terragrunt Modules over multiple repositories</li><li>Drift Detection in all Stacks</li><li>Pull Request Previews for actual changes</li><li>Notifications on deployment failures or newly detected drifts</li><li>Advanced collaboration and alert routing</li></ul></li></ul><h2 id="run-terragrunt-commands" tabindex="-1">Run Terragrunt Commands <a class="header-anchor" href="#run-terragrunt-commands" aria-label="Permalink to &quot;Run Terragrunt Commands&quot;">​</a></h2><p>Since you are using Terramate to orchestrate Terragrunt now, the <code>terragrunt run-all</code> command is not needed anymore and you can replace it with <code>terramate run -- terragrunt &lt;cmd&gt;</code> to execute terragrunt within single stacks.</p><p>The main benefit you get is to be able to make use of Terramates advanced Change Detection and other filters to orchestrate Terragrunt execution and also any other tooling inside of the stacks.</p><h3 id="list-all-stacks" tabindex="-1">List all Stacks <a class="header-anchor" href="#list-all-stacks" aria-label="Permalink to &quot;List all Stacks&quot;">​</a></h3><p>After importing Stacks imported from Terragrunt are not special compared to other stacks. Any Terramate CLI Feature is now available in those Stacks and you can run any commands within the stacks.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre></div><h3 id="init-terraform-with-terragrunt" tabindex="-1">Init Terraform with Terragrunt <a class="header-anchor" href="#init-terraform-with-terragrunt" aria-label="Permalink to &quot;Init Terraform with Terragrunt&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terragrunt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><h3 id="create-a-terraform-plan-with-terragrunt-in-parallel" tabindex="-1">Create a Terraform Plan with Terragrunt in parallel <a class="header-anchor" href="#create-a-terraform-plan-with-terragrunt-in-parallel" aria-label="Permalink to &quot;Create a Terraform Plan with Terragrunt in parallel&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --parallel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terragrunt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -outfile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plan.tfplan</span></span></code></pre></div><h3 id="apply-a-terraform-plan-with-terragrunt-in-changed-stacks" tabindex="-1">Apply a Terraform Plan with Terragrunt in Changed Stacks <a class="header-anchor" href="#apply-a-terraform-plan-with-terragrunt-in-changed-stacks" aria-label="Permalink to &quot;Apply a Terraform Plan with Terragrunt in Changed Stacks&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --changed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terragrunt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -outfile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plan.tfplan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -auto-approve</span></span></code></pre></div><h2 id="enable-the-experiment" tabindex="-1">Enable the Experiment <a class="header-anchor" href="#enable-the-experiment" aria-label="Permalink to &quot;Enable the Experiment&quot;">​</a></h2><p>To enable the experiment add the following to any top-level terramate configuration like <code>terramate.tm.hcl</code>:</p><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terramate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    experiments</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;terragrunt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,25),n=[s];function l(o,h,p,d,c,g){return t(),e("div",null,n)}const m=a(r,[["render",l]]);export{k as __pageData,m as default};
